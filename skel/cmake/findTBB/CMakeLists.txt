CMAKE_MINIMUM_REQUIRED(VERSION 3.1)
PROJECT(TBBcode CXX)

LIST(APPEND CMAKE_MODULE_PATH "${PROJECT_SOURCE_DIR}")

FIND_PACKAGE(TBB REQUIRED)
SET(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} ${TBB_CXX_FLAGS_DEBUG}")

#LINK_DIRECTORIES(${TBB_LIB_PATH} ${TBB_LIB_PATH_DEBUG}) # inutile
#INCLUDE_DIRECTORIES( ${TBB_INCLUDE_DIRS} )              # global

# program

FILE(GLOB SRCS *.h *.cpp *.inl *.hpp)
ADD_EXECUTABLE(tbbcode ${SRCS})
INCLUDE_DIRECTORIES( ${TBB_INCLUDE_DIRS} ) # local
TARGET_LINK_LIBRARIES(tbbcode ${TBB_LIBRARIES})
