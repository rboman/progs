CMAKE_MINIMUM_REQUIRED(VERSION 3.1)
PROJECT(TLS CXX)

# -- C++11
SET(CMAKE_CXX_STANDARD 11)
SET(CMAKE_CXX_STANDARD_REQUIRED ON)

# TBB

FIND_PATH(TBB_INCLUDE_DIRS NAMES  tbb/tbb.h HINTS "$ENV{TBBROOT}/include")
MESSAGE("TBB_INCLUDE_DIRS=${TBB_INCLUDE_DIRS}")
INCLUDE_DIRECTORIES(${TBB_INCLUDE_DIRS})

FIND_LIBRARY(TBB_LIBRARIES tbb ENV LD_LIBRARY_PATH)  # search paths in LD_LIBRARY_PATH
MESSAGE("TBB_LIBRARIES=${TBB_LIBRARIES}")

FILE(GLOB SRCS *.h *.cpp *.inl *.hpp)
ADD_EXECUTABLE(tls ${SRCS})
TARGET_LINK_LIBRARIES(tls ${TBB_LIBRARIES})