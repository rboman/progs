INCLUDE(${SWIG_USE_FILE})

INCLUDE_DIRECTORIES(${Python3_INCLUDE_DIRS})

FILE(GLOB SRCS *.h *.cpp *.inl *.swg)
FILE(GLOB ISRCS *.i)

SET_SOURCE_FILES_PROPERTIES(${ISRCS} PROPERTIES CPLUSPLUS ON)

SET(SWINCFLAGS -I${PROJECT_SOURCE_DIR}/couplage )
SET_SOURCE_FILES_PROPERTIES(${ISRCS} PROPERTIES SWIG_FLAGS "${SWINCFLAGS}")

SWIG_ADD_LIBRARY(couplage LANGUAGE python SOURCES ${ISRCS} ${SRCS})

IF(WIN32)
    SET_TARGET_PROPERTIES(_couplage PROPERTIES DEBUG_POSTFIX "_d")
ENDIF()

# ---

INCLUDE_DIRECTORIES( ${PROJECT_SOURCE_DIR}/_couplage
                     ${PROJECT_SOURCE_DIR}/couplage
                     ${PROJECT_SOURCE_DIR}/gmm
)

SWIG_LINK_LIBRARIES(couplage couplage ${Python3_LIBRARIES} )
