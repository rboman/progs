# CMake input file of the SWIG wrapper around "ehd.so"

INCLUDE(${SWIG_USE_FILE})

FILE(GLOB SRCS *.h *.cpp *.inl *.swg)
FILE(GLOB ISRCS *.i)

SET_SOURCE_FILES_PROPERTIES(${ISRCS} PROPERTIES CPLUSPLUS ON)

SET(SWINCFLAGS 
-I${PROJECT_SOURCE_DIR}/ehd/src
-I${PROJECT_SOURCE_DIR}/gauss/src
-I${PROJECT_SOURCE_DIR}/gauss/_src
-I${PROJECT_SOURCE_DIR}/sky/src
-I${PROJECT_SOURCE_DIR}/sky/_src
)
SET_SOURCE_FILES_PROPERTIES(${ISRCS} PROPERTIES SWIG_FLAGS "${SWINCFLAGS}")


IF(CMAKE_VERSION VERSION_LESS 3.8.0)
    SWIG_ADD_MODULE(ehdi python ${ISRCS} ${SRCS})
ELSE()
    SWIG_ADD_LIBRARY(ehdi LANGUAGE python SOURCES ${ISRCS} ${SRCS})
ENDIF()
MACRO_DebugPostfix(_ehdi)

TARGET_INCLUDE_DIRECTORIES(_ehdi PRIVATE ${Python3_INCLUDE_DIRS})

SWIG_LINK_LIBRARIES(ehdi 
                    ehd ${Python3_LIBRARIES}
)

